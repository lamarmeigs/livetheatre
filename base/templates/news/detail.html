{% extends 'base_internal.html' %}

{% block body_classes %}section-news{% endblock %}

{% block admin_edit_link %}{% url 'admin:base_artsnews_change' news.id %}{% endblock %}

{% block main_title %}
<h2>{{ news.title }}</h2>
{% endblock %}

{% block article_content %}

{% if news.video_embed %}
<div class="video-embed">
    {{ news.video_embed|safe }}
</div>
{% elif news.newsslideshowimage_set.exists %}

<div id="news_slideshow" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    {% for image in news.newsslideshowimage_set.all %}
    <li data-target="#news_slideshow" data-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active"{% endif %}></li>
    {% endfor %}
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" role="listbox">
    {% for image in news.newsslideshowimage_set.all %}
    <div class="item {% if forloop.first %}active{% endif %}">
        <a class="colorbox" href="{{ image.image.url }}">
            <img src="{{ image.image.url }}" alt="{{ image.image.name }}" />
        </a>
    </div>
    {% endfor %}
  </div>

  <!-- Controls -->
  <a class="left carousel-control" href="#news_slideshow" role="button" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#news_slideshow" role="button" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
    
{% endif %}

{{ news.content|safe }}
{% endblock %}

{% block extra_content %}
{% endblock %}

{% block sidebar_content %}

{% if recent_reviews.exists %}
    {% include 'snippets/sidebar/active/recent_reviews.html' %}
{% endif %}

{% if recent_news.exists %}
    {% include 'snippets/sidebar/active/recent_news.html' %}
{% endif %}

{% if current_productions.exists %}
    {% include 'snippets/sidebar/active/current_productions.html' %}
{% endif %}

{% endblock %}
